define("#pub-util",["jquery","underscore"],function(n,y){var j=n("jquery");var B=n("underscore");function m(C){return(C instanceof Function)}function q(C){return(typeof C==="string")}function p(C){return(C instanceof Array)}function o(C){return(C instanceof Object)}function h(C){C=C.replace(/([\$\.\^\(\)\[\]\{\}])/g,"\\$1");C=C.replace(/\*/g,"(?:.+)");return new RegExp(C)}function r(D,C){var E=j(D).css(C).replace(/[a-z]+/i,"");return parseInt(E,10)||0}function g(C){if(q(C)){var D=C.charAt(0).toUpperCase();return D+C.substr(1)}return C}function v(D,C){var E="0123456789ABCDEF";var F="";D=parseInt(D,10);while(D>15){F=E.charAt(D%16)+F;D=D>>4}F=E.charAt(D%16)+F;while(C&&F.length<C){F="0"+F}return F}var l=Object.prototype.hasOwnProperty;function e(D,C){if(C===undefined){return false}return l.call(D,C)}y.isFunc=m;y.isString=q;y.isArray=p;y.isObject=o;y.starRegExp=h;y.getCssValue=r;y.ucFirst=g;y.toHex=v;y.has=e;var x=navigator.userAgent.toLowerCase();var A=null;y.isIe=(A=x.match(/msie ([\d.]+)/))?A[1]:false;y.isFf=(A=x.match(/firefox\/([\d.]+)/))?A[1]:false;y.isChrome=(A=x.match(/chrome\/([\d.]+)/))?A[1]:false;y.isOpera=(A=x.match(/opera.([\d.]+)/))?A[1]:false;y.isSafari=(A=x.match(/version\/([\d.]+).*safari/))?A[1]:false;x=A=null;var w=String.prototype.trim;if(!w){var t=/(^\s*)|(\s*$)/g;w=function(){return this.replace(t,"")}}y.trim=function(C){if(q(C)){return w.call(C)}else{return C}};y.own=function(C,D){if(e(C,D)){return C[D]}else{return undefined}};function i(E,D,C){var F="#";F+=v(E*255,2);F+=v(D*255,2);F+=v(C*255,2);return F}y.hsl2rgb=function(I,H,D){if(o(I)&&"h" in I&&"s" in I&&"l" in I){D=I.l;H=I.s;I=I.h}var F,E,L,K,J;I=(I%360)/60;J=2*H*(D<0.5?D:1-D);K=J*(1-Math.abs(I%2-1));F=E=L=D-J/2;I=~~I;F+=[J,K,0,0,K,J][I];E+=[K,J,J,K,0,0][I];L+=[0,0,K,J,J,K][I];return i(F,E,L)};y.hsb2rgb=function(I,H,D){if(o(I)&&"h" in I&&"s" in I&&"b" in I){D=I.b;H=I.s;I=I.h}var F,E,L,K,J;I=(I%360)/60;J=D*H;K=J*(1-Math.abs(I%2-1));F=E=L=D-J;I=~~I;F+=[J,K,0,0,K,J][I];E+=[K,J,J,K,0,0][I];L+=[0,0,K,J,J,K][I];return i(F,E,L)};y.blockEvent=function(C){C.stopPropagation();return false};y.stopEvent=function(C){C.stopPropagation();return true};y.each=function(G,C,F){if(!G||!m(C)){return false}if(!F){F=window}var D=null;var H=null;var E=null;if(p(G)){for(E=0;E<G.length;E++){D=C.call(F,G[E],E);if(D===false){break}if(D===null){G.splice(E,1);E--}else{if(D!==undefined){G[E]=D}}}if(E==G.length){E=null}}else{if(o(G)){for(H in G){if(!l.call(G,H)){continue}D=C.call(F,G[H],H);if(D===false){E=H;break}if(D===null){G[H]=null;delete G[H]}else{if(D!==undefined){G[H]=D}}}}}G=C=F=null;y.each.result=E;return E};y.uniq=y.unique=function(D,E){if(!p(D)){return null}var G={};var C=E?[]:D;for(var F=0;F<D.length;F++){if(l.call(G,D[F])){if(!E){D.splice(F--,1)}}else{G[D[F]]=1}}};function s(F,E,H){var C,I,D,G=(arguments.length>=3);if(p(F)){I=F.length;for(D=0;D<I;D++){C=F[D];if(G){if(C&&C[H]===E){return D}}else{if(C===E){return D}}}}else{if(o(F)){for(D in F){if(!l.call(F,D)){continue}C=F[D];if(G){if(C&&C[H]===E){return D}}else{if(C===E){return D}}}}}return null}y.index=s;y.find=function(C){var D=s.apply(this,arguments);if(D!==null){return C[D]}else{return null}};y.remove=function(C){var D=s.apply(this,arguments);if(D===null){return false}if(p(C)){C.splice(D,1)}else{delete C[D]}return true};y.getViewport=function(){var E=document,F=E.documentElement,D=E.body;var C=(E.compatMode==="CSS1Compat");return{width:(C?F.clientWidth:D.clientWidth),height:(C?F.clientHeight:D.clientHeight)}};y.merge=function(D,C){y.each(C,function(F,E){if(F===null||F===undefined){if(D){delete D[E]}}else{if(!D){D={}}D[E]=F}});return D};y.first=function(E){var C;if(p(E)){C=E.shift()}else{if(o(E)){for(var D in E){if(e(E,D)){C=E[D];break}}}}return C};var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};var b=/[&<>"]/g;function a(C){return d[C]}y.html=function(C){return(typeof(C)!="string")?C:C.replace(b,a)};function c(D,C){D=D.toString();while(D.length<C){D="0"+D}return D}y.fix0=c;var f=null;var z=/[YymndjNwaAghGHis]/g;function u(C){var D=f;switch(C){case"Y":return D.getFullYear();case"y":return D.getFullYear()%100;case"m":return c(D.getMonth()+1,2);case"n":return D.getMonth()+1;case"d":return c(D.getDate(),2);case"j":return D.getDate();case"N":return D.getDay();case"w":return D.getDay()%7;case"a":return D.getHours()<12?"am":"pm";case"A":return D.getHours()<12?"AM":"PM";case"g":return D.getHours()%12+1;case"h":return c(D.getHours()%12+1,2);case"G":return D.getHours();case"H":return c(D.getHours(),2);case"i":return c(D.getMinutes(),2);case"s":return c(D.getSeconds(),2)}return C}y.date=function(E,C,F){if(!E){return""}var D;if(isNaN(C)){if(C instanceof Date){D=C;if(!isNaN(F)){D.setTime(D.getTime()+F*1000)}}else{D=new Date()}}else{if(C>500000000){D=(new Date()).setTime(C*1000)}else{D=new Date();D.setTime(D.getTime()+C*1000)}}f=D;return E.replace(z,u)}});define("#pub-app",["jquery","#pub-util"],function(q,G){var j=q("jquery");var c=q("#pub-util");G.version="0.1.2";function f(){}G.noop=f;function y(l,L,J,K,I){if(!K||!(K in L)){return undefined}K=L[K];if(typeof(K)!="function"){return K}var i=l.callee.caller["arguments"];if(l.length==2){return K.apply(J,i)}else{if(I instanceof Array&&I.length){return K.apply(J,I)}else{return K.call(J)}}}function w(l,I,i){return y(arguments,this.prototype,l,I,i)}function B(J,K){var l=[];for(var I=2;I<arguments.length;I++){l.push(arguments[I])}return y(arguments,this.p,J,K,l)}function C(I,i,J,l){function K(Q,R,P){if(Q===0){return this}if(arguments.length===0){return(i==f?null:i)}var O=arguments.callee.caller["arguments"];if(!R){return i.call(Q,(P||O[0]),O[1],O[2])}return y(arguments,i.prototype,Q,R,P)}K.prototype=i.prototype;var N=0,L=I.prototype;var M=I.prototype=new K(0);for(N in L){if(L.hasOwnProperty(N)){M[N]=L[N]}}if(typeof(J)=="object"){for(N in J){if(J.hasOwnProperty(N)){M[N]=J[N]}}}M.constructor=I;I.master=K;I.self=B;I.mine=w;I.p=l;I.version=G.version;J=null;return I}G.extend=C;var g=window.console||{};G.log=function(){if(g.log&&F("debug")>0){if(g.log.apply){g.log.apply(g,arguments)}else{g.log(arguments[0])}}};G.error=function(){if(g.error&&F("debug")>1){if(g.error.apply){g.error.apply(g,arguments)}else{g.error(arguments[0])}}};var e=G.caches={id:10,length:0};G.util=c;var r=c.isString;var n=c.isFunc;var d=c.has;function t(i){if(i instanceof Object){var l=i._&&i._.guid||0;return(l&&e[l]===i)}return false}c.isModule=t;function p(i){if(!i||!i.master){return false}if(i.self!==B){return false}if(i.mine!==w){return false}if(i.version!==G.version){return false}return true}c.isCreator=p;function F(l,L,I){if(l instanceof Object){L=l;l=null}var M=(L!==undefined);var i=(L===null);var K;if(l){var J=l.split("/");K=F.data;while(J.length>1&&(K instanceof Object)&&K.hasOwnProperty(J[0])){K=K[J.shift()]}if(J.length>1){if(M){return false}if(i){return true}return undefined}l=J[0]}else{if(i){return false}else{K=F;l="data"}}if(M){K[l]=L;return true}else{if(i){K[l]=null;delete (K[l]);return true}else{return K[l]}}}F.data={};G.config=F;G.config("middlewares_base","./middlewares/");var D=null;function v(l){var J=l.data;var I=e[J[0]]||null;if(!I){return}var i=J[1];if(!n(i)){i=I[i];if(!n(i)){return}}l.data=J[2];J=i.call(I,l,this);I=i=null;return J}function H(i,l,I){return this}var h="childs";var o="childs_name";var s="childs_id";C(H,f,{isNull:function(){return false},create:function(l,I,i){if(!t(this)){G.error("Current Module Invalid");return false}if(!this._.hasOwnProperty(h)){this._[h]=[];this._[o]=this.$={};this._[s]=0}if(n(l)){if(n(I)){l=l(this._)}else{i=I;I=l;l=null}}if(!l){l="child_"+this._[s]}else{if(this._[o][l]){G.error("Module Name Exists");return false}}this._[s]++;var K={uri:this._.uri+"/"+l,name:l,pid:this._.guid,guid:e.id++};var J=new I(i,this,K);J._=K;e[K.guid]=J;e.length++;this._[h].push(J);this._[o][l]=J;if(G.config("debug")>1){G.log("[PubJS] A new module "+l+" created.")}if(n(J.init)){J.init(i)}return J},parent:function(){if(!t(this)||this._.pid===0){return null}return(e[this._.pid]||null)},child:function(i){if(!t(this)||!this._[h]){return null}if(!isNaN(i)){i=parseInt(i,10);if(i<0||i>=this._[h].length){return null}return this._[h][i]}else{return(this._[o][i]||null)}},childs:function(i){if(!t(this)||!this._[h]){return(i?null:[])}return(i?this._[o]:this._[h])},get:function(I){if(!r(I)){return null}if(!I){return this}if(I.charAt(0)=="/"){return G.core.get(I)}var i;var J=this;var l=I.split("/");while(l.length){i=l.shift();J=(i=="..")?J.parent():J.child(i);if(!J){return J}}return J},gets:function(J){var i,L=arguments[1]||[];if(arguments[2]!==1&&!r(J)){return L}if(!J){L.push(this);return L}if(!isNaN(J)){i=this.child(J);if(i){L.push(i)}return L}if(J.charAt(0)=="/"){return G.core.gets(J)}var I=J.indexOf("/");if(I==-1){i=J;J=null}else{i=J.substr(0,I);J=J.substr(I+1)}if(i.indexOf("*")!=-1){var K=t(this)&&this._[o];if(!K){return L}var l=c.starRegExp(i);for(i in K){if(K.hasOwnProperty(i)&&l.test(i)){I=K[i];if(J){I.gets(J,L,1)}else{L.push(I)}}}}else{I=(i=="..")?this.parent():this.child(i);if(I){if(J){I.gets(J,L,1)}else{L.push(I)}}}return L},fire:function(l,I,J,i){if(I instanceof Function){i=J;J=I;I=null}return D.fire(this,l,I,J,i)},cast:function(l,I,J,i){if(I instanceof Function){i=J;J=I;I=null}return D.broadcast(this,l,I,J,i)},send:function(I,l,J){var i=t(I)?[I]:this.get(I);return D.send(this,i,l,J)},bind:function(P,M,I,Q,l){var N=arguments,O=N.length,R;var J=new Array(5),L=1;J[0]=N[0];for(var K=1;K<O;K++){R=N[K];switch(L){case 1:if(t(R)){L=2;break}case 2:if(n(R)){L=3}break;case 3:if(r(R)){R=J[2]&&J[2][R];break}case 4:if(!c.isObject(R)){L=0}}J[L++]=R;if(L<1||L>4){break}}if(!L){G.error("bind param error!",N);return false}return D.bind(J[2],this,J[0],J[3],J[1],J[4])},unbind:function(i,l){return D.unbind(null,this,i,l)},listen:function(K,l,L,M,i){if(n(L)){i=M;M=L;L=null}else{if(r(M)){M=this[M];if(!M||!n(M)){G.error("listen callback invalid");return false}}}var J=t(K)?[K]:this.gets(K);var I=0;while(J.length){I+=D.bind(this,J.shift(),l,M,L,i)?1:0}return I},unlisten:function(J,i,K){var I=(!J||t(J))?[J]:this.gets(J);if(r(K)){K=this[K]}var l=0;while(I.length){l+=D.unbind(this,I.shift(),i,K)}return l},jq:function(I,i,l,J){if(!I){return this}if(!I.jquery){I=j(I)}if(n(l)||arguments.length==3){J=l;l=null}I.bind(i,[this._.guid,J,l],v);return this},dg:function(J,i,l,I,K){if(!J){return this}if(!J.jquery){J=j(J)}if(n(I)||arguments.length==4){K=I;I=null}J.delegate(i,l,[this._.guid,K,I],v);return this},destroy:function(l){if(this.beforeDestroy){try{this.beforeDestroy()}catch(L){G.error("beforeDestroy() Exception!",L)}}if(!l){this.fire("destroy")}var M=this.childs();for(var J=0;J<M.length;J++){if(M[J].destroy){M[J].destroy(-1)}}this.unbind();this.unlisten();if(this.afterDestroy){try{this.afterDestroy()}catch(L){G.error("afterDestroy() Exception!",L)}}if(l!==-1){var K=this.parent();if(K){K.removeChild(this)}}var I=this._&&this._.guid||0;if(e.hasOwnProperty(I)){delete (e[I]);e.length--}},removeChild:function(M){var J,I,K=0;var L=this._[o];var l=this._[h];if(t(M)){I=M._.guid}else{if(isNaN(M)){J=""+M;if(L.hasOwnProperty(J)){I=L[J]._.guid}}else{K=parseInt(M,10);if(K<0||K>=l.length){return null}I=l[K]._.guid}}if(!I){return null}for(;K<l.length;K++){if(l[K]._.guid==I){M=l[K];delete (this._[o][M._.name]);l.splice(K,1);return M}}return null},getData:function(i){return this.getChildData(i)},getChildData:function(I){var M=this._[h];if(M){var L=I?[]:{};var N,K,J=1;for(var l=0;l<M.length;l++){N=I?l:M[l]._.name;K=M[l].getData(I);if(K!==undefined){L[N]=K;J=0}}return J?undefined:L}},reset:function(){var I=this._[h];if(I){for(var l=0;l<I.length;l++){I[l].reset()}}}});H.extend=function(l,J,L){var K=function(){return false};var i=arguments.length>3;if(i){K=arguments[1];J=arguments[2];L=arguments[3]}var I=function(P,O,M){this.config={};j.extend(true,this.config,l,P);var N=K.apply(this,arguments)||true;if(!N){return false}if(J.isMaster){I.master(this,null,this.config)}};G.extend(I,J,L);return I};G.Module=H;var b=H.extend({},function(){this._={uri:"",name:"APP",parent:0,guid:1};e["1"]=this;e.length++},H,{get:function(i){i=i.replace(/^[\/]+/,"");return b.master(this,"get",[i])},gets:function(i){i=i.replace(/^[\/]+/,"");return b.master(this,"gets",[i])},destroy:function(){}});G.init=function(i,I){if(i instanceof Object){c.merge(F.data,i)}if(G.config("init")){var l=G.config("init");l.call(G,G)}G.core=new b();if(G.config("debug")>0){G.log("[PubJS] PubJS is in debuging environment! Debug Level "+G.config("debug"))}return I()};G.navigate=function(i){if(r(i)){window.location.hash="#"+i}else{window.history.go(i)}};function u(J,K,M,I){var l=null;var L=J.lastIndexOf(".");if(L!==-1){l=J.substr(L+1);J=J.substr(0,L)}if(n(K)||t(K)){I=M;M=K;K=null}if(t(M)){var i=M[I];if(n(i)){I=M;M=i;i=null}}q.async(J,function(N){if(l){N=N[l]}if(!N){G.error("loadModule Error! - "+J+(l?"."+l:""))}else{if(n(M)){M.call((I||window),N,K)}}N=l=L=J=K=M=I=null})}G.loadModule=u;G.usingMiddlewares=[];function a(){for(var L=0,I=arguments.length;L<I;L++){switch(typeof arguments[L]){case"string":var K=arguments[L];L++;var M=arguments[L];J(K,M);break;case"function":J("/",arguments[L]);break}}function J(i,l){G.usingMiddlewares.push({route:i,handler:l})}}G.use=a;function x(K,I){var l=-1;var L=G.usingMiddlewares;function J(){l++;var M=L[l];if(M){var N=new RegExp(M.route);if(N.test(K)){M.handler(G,J,function(){i(l,M);l--;J()})}else{J()}}else{I()}}function i(O,P){var N=L.slice(0,O);N.push(L[O+1],P);var M=L.slice(O+2);[].push.apply(N,M);L=N}J()}G._runMiddlewares=x;function E(i){return function(J,I,l){q.async(J.config("middlewares_base")+i+".js",function(K){return K().call(null,J,I,l)})}}var m=["cookieParser","datacenter","drag","language","messager","query"];for(var A=0,z=m.length;A<z;A++){G[m[A]]=(function(i){return function(){return E(i)}})(m[A])}});define("#pub-boot",["#pub-app"],function(c,e){var b=c("#pub-app");var g=e.env={login:null,handler:null,current:null,wait_template:false};function d(j){g.handler=j||b.config("router/default_handler")||"default";c.async((b.config("handlers_base")||"../handlers/")+g.handler,i)}function i(l){if(!g.handler){return false}if(!l){b.error("handler is missing - "+g.handler+":router()")}else{if(l.name!=g.handler){b.error("handler is invalid - "+g.handler+":router()")}else{var j={name:g.handler};g.current=[g.handler];if(l.router&&b.util.isFunc(l.router)){b._runMiddlewares(window.location.href,function(){if(b.config("debug")>0){b.log("[PubJS] Running handler "+g.handler)}if(l.beforeRun&&b.util.isFunc(l.beforeRun)){l.beforeRun(e,j,b)}l.router(b);if(l.afterRun&&b.util.isFunc(l.afterRun)){l.afterRun(e,j,b)}})}else{b.error("Router is invalid - "+g.handler+":router()")}if(g.handler==j.handler){g.handler=null}}}}e.run=d;e.reload=function(j){if(g.current){d.apply(e,g.current)}if(!j){b.core.cast("reload")}};var f=null;e.switchPage=function(j){if(j==f){return}var m=f;var l;if(f){l=b.core.get(f);if(l){l.hide()}}f=j;l=b.core.get(j);if(l){l.show()}return m};var a=-1;function h(j){if(a===-1){return}a=window.location.href;var m=window.location.pathname.substr(1);var n=m.split("/");var l=n.shift();d(l)}if(("onhashchange" in window)&&(document.documentumentMode===undefined||document.documentumentMode==8)){if(window.addEventListener){window.addEventListener("hashchange",h,false)}else{if(window.attachEvent){window.attachEvent("onhashchange",h)}else{window.onhashchange=h}}}else{setInterval(function(){if(a!=window.location.href){h.call(window)}},150)}c.async("pub-config",function(j){j=j||{};b.init(j,function(){a=window.location.href;h();window.app=b;if(b.config("debug")>1){b.log("[PubJS] Environment inited.")}})})});define("#pub-view",["#pub-app","jquery"],function(d,h){var f=d("#pub-app");var i=d("jquery");function e(q){return"<{tag}{class}{id}{type}{value}{attr-data}>{html}</{tag}>".replace(/(\{\w+\})/g,function(r){r=r.replace(/\{|\}/g,"");return(r==="tag"||r==="html")&&q[r]||q[r]&&(" "+r+'="'+q[r]+'"')||""})}function o(s){var t=e(s);var q="";var r=0;for(var u in s){if(/data-\w+/.exec(u)){q+=(" "+u+'="'+s[u]+'"');r=r||!r}}t=t.replace("{attr-data}",q);if(s.tag==="input"){t=t.replace("></input>","/>")}if(!s.stringify){t=i(t)}q=r=null;return t}function b(q,t){var r=false;if(f.util.isArray(t)){for(var s=0;s<t.length;s++){if(q.closest(t[s]).length){r=true;break}}}else{r=q.closest(t).length}return r}function m(t,s,r){var q=function(u){if(!b(i(u.target),t)){s.call((r||this));i(document).unbind("click",q)}};i(document).bind("click",q);return q}var c=f.Module.extend({html:"",auto:1,autoLayout:0,autoHide:0},function(r,s,q){i.extend(true,this.config,{tag:(r.tagName||"div"),id:(r.id||null),target:s},r);if(!this.config.el){if(this.config.tag==="body"){this.el=i("body:first")}else{this.el=this.createDom(this.config)}this.auotHideHandler=null;if(f.util.isString(this.config.target)){this.config.target=i(this.config.target)}}else{this.el=this.config.el}},f.Module,{init:function(){if(this.config.auto){this.render()}},show:function(r){r=r||undefined;if(this.config.autoHide&&!r){r=0}var q=this;var s=function(){q.afterShow();if(q.config.autoHide){var t=[q.el];if(q.config.autoHide.andSelf){t=t.concat(q.config.autoHide.andSelf)}q.auotHideHandler=m(t,q.hide,q);t=null}q.cast("containerShow")};this.el.show(r,s);if(r===undefined){q.cast("containerShow")}return this},hide:function(r){r=r||undefined;if(this.config.autoHide&&!r){r=0}var q=this;var s=function(){q.afterHide();if(q.config.autoHide){q.auotHideHandler=null}q.cast("containerHide")};this.el.hide(r,s);if(r===undefined){q.cast("containerHide")}return this},afterHide:i.noop,afterShow:i.noop,appendTo:function(q){if(q.jquery){this.el.appendTo(q)}else{if(q.el&&q.el.jquery){this.el.appendTo(q.el)}}},createDom:function(q){return o(q)},render:function(){if(this.el&&this.config.tag!=="body"){this.appendTo(this.config.target)}return this},remove:function(q){this.el.remove();if(q){this.el=null}return this},afterDestroy:function(){this.remove(true)},destroy:function(){if(this.doms){for(var q in this.doms){if(this.doms.hasOwnProperty(q)&&this.doms[q]&&this.doms[q].jquery){this.doms[q].remove()}}}if(this.el){this.el.find("*").unbind();this.el.empty()}c.master(this,"destroy")}});c.isMaster=true;h.Container=c;function l(q,z,r){var x=[];var u=null;var t=q[1]>1;var A=q[0]>1;var y=null;if(A){u=[]}for(var w=0,s=q[0];w<s;w++){if(A){y=g(z,r.row+"_"+w,z.config.target,z.config.cellSet&&z.config.cellSet[x.length]||{});u.push(y)}else{y={el:z.config.target}}if(t){for(var v=0,s=q[1];v<s;v++){x.push(g(z,A&&(r.cell+"_"+k+"_"+v)||(r.col+"_"+v),y.el,z.config.cellSet&&z.config.cellSet[x.length]||{}))}}else{if(A){x.push(y)}}}y=t=A=null;return{rows:u,cells:x}}function g(s,q,t,r){return s.create(q,c,i.extend({"class":q,target:t},r))}function a(r,q){return q<0&&Math.abs(q)<=r.length&&r.slice(r.length+(q),r.length+(q+1))[0]||r[q]}var n=f.Module.extend({target:null,grid:[1,1],perfix:{row:"layoutRow",col:"layoutCol",cell:"layoutCell"},cellSet:null},function(r,s,q){if(!r.target){return false}this.gridCells=null;this.gridRows=null;this.cellsLen=0;this.hasBuilded=0},f.Module,{init:function(){this.doLayout();this.hasBuilded=1},get:function(q){q=+q;if(!isNaN(q)){return a(this.gridCells,q)}},getRow:function(q){q=+q;if(!isNaN(q)){return a(this.gridRows,q)}},doLayout:function(q){if(q){this.config=i.extend(this.config,q)}if(this.config.grid[0]===1&&this.config.grid[1]===1){this.gridCells=this.gridRows=[this.config.target]}else{var r=l(this.config.grid,this,this.config.perfix);this.gridCells=r.cells;this.gridRows=r.rows||[this.config.target];r=null}this.cellsLen=this.gridCells.length;return this},afterDestroy:function(){this.config.target.empty()}});n.isMaster=true;h.layout=n;var p=f.Module.extend({},c,{init:function(){this.config.init.apply(this,arguments)}});h.Page=p;var j=f.Module.extend({tagName:"form",method:"POST",type:"multipart/form-data",action:"/"},c,{init:function(){this.render();var q=i(this.el);q.attr("action",this.config.action);q.attr("method",this.config.method.toUpperCase());q.attr("type",this.config.type)},append:function(r,s,q){},submit:function(q){}});h.Form=j});define("#pub-router",[],function(e,b,f){f.exports=a;function d(h){return/^#/.test(h)}function a(i){var h=function(o){var n=window.location.pathname+window.location.hash;var m=l(n,h);o.currHandler=m.handler;o.params=m.params;m.handler(o)};h.handlers=i;h.rules={};for(var j in i){if(d(j)){h.rules[j]=new RegExp(j.replace(/:([\w%$.-]*)/g,"([\\w%$.-]*)").replace("(([\\w%$.-]*))","([\\w%$.-]*)")+"$","i")}else{h.rules[j]=new RegExp("^"+j.replace(/:([\w%$.-]*)/g,"([\\w%$.-]*)").replace("(([\\w%$.-]*))","([\\w%$.-]*)")+"([#]*)(.*)$","i")}}function l(m,o){for(var n in o.rules){if(o.rules[n].test(m)){var p=c(n,o.rules[n],m);return{handler:i[n],params:p}}}return{handler:g,params:{}}}return h}function c(n,m,l){var h=[];while(/:([\w%$-]+)/g.test(n)){n=n.replace(/:([\w%$-]*)/i,":([w%$-]+)");h.push(RegExp["$1"]);n=n.replace(/\/:\(\.\*\)/i,"\\/(.*)").replace(/\(:\(\.\*\)\)/i,"(.*)")}m.test(l);var o={};for(var j=0;j<10;j++){if(RegExp["$"+j]!==""){o[h[j-1]]=RegExp["$"+j]}else{break}}return o}function g(){return false}});define("#pub-handler",["#pub-router"],function(c,b){var a=c("#pub-router");b.setup=function(f,e,d){if(arguments.length<2){d=e;if("undefined"!==typeof d.name){e=d.name}}if("undefined"==typeof d.routes){d.routes={}}f.name=e;f.router=a(d.routes)}});define("#pub-exports",["#pub-app","#pub-view","#pub-util","#pub-handler"],function(d,c,e){var g=d("#pub-app");var b=d("#pub-view");var a=d("#pub-util");var f=d("#pub-handler");return e.exports=c={App:g,View:b,Module:g.Module,Util:a,Handler:f}});define("pub",["#pub-boot","#pub-exports"],function(b,a,c){b("#pub-boot");console.log("[PubJS] Boot!");return c.exports=a=b("#pub-exports")});